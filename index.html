<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Japan Travel Guide - Personal Recommendations</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        #map {
            width: 100%;
            height: 500px;
            border-bottom: 4px solid #e74c3c;
        }

        .content {
            padding: 40px;
        }

        .location {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #e74c3c;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .location:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .location h2 {
            color: #e74c3c;
            margin-bottom: 15px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
        }

        .location h2::before {
            content: "üìç";
            margin-right: 10px;
        }

        .location h3 {
            color: #555;
            margin: 20px 0 10px 0;
            font-size: 1.3em;
        }

        .location p {
            margin-bottom: 15px;
            color: #666;
            line-height: 1.8;
        }

        .highlight {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 15px 0;
        }

        .highlight strong {
            color: #856404;
        }

        .link-button {
            display: inline-block;
            padding: 10px 20px;
            background: #e74c3c;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 10px;
            transition: background 0.3s ease;
        }

        .link-button:hover {
            background: #c0392b;
        }

        .tips {
            background: #d4edda;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #28a745;
            margin-top: 30px;
        }

        .tips h2 {
            color: #155724;
            margin-bottom: 15px;
        }

        .tips h2::before {
            content: "üí°";
            margin-right: 10px;
        }

        .legend {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .legend h3 {
            margin-bottom: 10px;
            color: #333;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
        }

        .legend-marker {
            width: 30px;
            height: 30px;
            margin-right: 10px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .highly-recommended {
            background: #e74c3c;
            color: white;
        }

        .recommended {
            background: #3498db;
            color: white;
        }

        /* Itinerary Timeline Styles */
        .itinerary-section {
            background: #f8f9fa;
            padding: 40px;
        }

        .itinerary-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .itinerary-header h2 {
            color: #e74c3c;
            font-size: 2.2em;
            margin-bottom: 10px;
        }

        .itinerary-header h2::before {
            content: "üó∫Ô∏è";
            margin-right: 15px;
        }

        .itinerary-header p {
            color: #666;
            font-size: 1.1em;
        }

        .timeline {
            position: relative;
            max-width: 1000px;
            margin: 0 auto;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, #e74c3c, #c0392b);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 50px;
            padding-left: 100px;
        }

        .timeline-dot {
            position: absolute;
            left: 35px;
            top: 0;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #e74c3c;
            border: 4px solid white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            z-index: 2;
        }

        .timeline-travel {
            position: relative;
            margin: 30px 0;
            padding-left: 100px;
            font-style: italic;
            color: #666;
        }

        .timeline-travel::before {
            content: "üöÑ";
            position: absolute;
            left: 38px;
            font-size: 20px;
            background: white;
            padding: 5px;
            border-radius: 50%;
        }

        .stop-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stop-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .stop-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .stop-title {
            font-size: 1.8em;
            color: #e74c3c;
            margin-bottom: 5px;
        }

        .stop-dates {
            background: #e74c3c;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            white-space: nowrap;
        }

        .hotel-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #ddd;
        }

        .hotel-info h4 {
            color: #333;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .hotel-recommended {
            border-left-color: #28a745;
            background: #d4edda;
        }

        .hotel-recommended .recommendation {
            color: #155724;
            font-weight: bold;
        }

        .hotel-not-recommended {
            border-left-color: #dc3545;
            background: #f8d7da;
        }

        .hotel-not-recommended .recommendation {
            color: #721c24;
            font-weight: bold;
        }

        .hotel-neutral {
            border-left-color: #ffc107;
            background: #fff3cd;
        }

        .hotel-neutral .recommendation {
            color: #856404;
            font-weight: bold;
        }

        .hotel-name {
            font-weight: 600;
            color: #333;
        }

        .activities {
            margin-top: 20px;
        }

        .activities h4 {
            color: #555;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .activity-list {
            list-style: none;
            padding-left: 0;
        }

        .activity-list li {
            padding: 10px 15px;
            margin: 8px 0;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 3px solid #3498db;
            transition: all 0.2s ease;
        }

        .activity-list li:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .activity-list li::before {
            content: "‚úì";
            color: #3498db;
            font-weight: bold;
            margin-right: 10px;
        }

        .must-see {
            border-left-color: #e74c3c;
        }

        .must-see::before {
            content: "‚≠ê";
        }

        .food-note {
            background: #fff3cd;
            padding: 12px 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 3px solid #ffc107;
        }

        .food-note::before {
            content: "üçú ";
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .location {
                padding: 20px;
            }

            .timeline::before {
                left: 20px;
            }

            .timeline-item {
                padding-left: 60px;
            }

            .timeline-dot {
                left: 5px;
            }

            .timeline-travel {
                padding-left: 60px;
            }

            .timeline-travel::before {
                left: 8px;
            }

            .stop-header {
                flex-direction: column;
            }

            .stop-dates {
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üáØüáµ Japan Travel Guide</h1>
            <p>Personal Recommendations & Tips</p>
        </header>

        <div id="map"></div>

        <div class="legend">
            <h3>Map Legend</h3>
            <div class="legend-item">
                <div class="legend-marker" style="background: #9b59b6; color: white; font-weight: bold;">1-5</div>
                <span>Itinerary Route (numbered stops)</span>
            </div>
            <div class="legend-item">
                <div class="legend-marker highly-recommended">‚≠ê</div>
                <span>Highly Recommended</span>
            </div>
            <div class="legend-item">
                <div class="legend-marker recommended">üìå</div>
                <span>Recommended</span>
            </div>
        </div>

        <div class="itinerary-section">
            <div class="itinerary-header">
                <h2>Sample Itinerary</h2>
                <p>Our 18-day journey through Japan - October 2023</p>
            </div>

            <div class="timeline">
                <!-- Tokyo -->
                <div class="timeline-item">
                    <div class="timeline-dot">1</div>
                    <div class="stop-card">
                        <div class="stop-header">
                            <div>
                                <h3 class="stop-title">Tokyo</h3>
                                <p style="color: #666;">Arrival: Narita Airport</p>
                            </div>
                            <div class="stop-dates">Oct 1 - 6 (6 nights)</div>
                        </div>

                        <div class="hotel-info hotel-not-recommended">
                            <h4>üè® Accommodation</h4>
                            <p class="hotel-name">APA Hotel Akasaka Mitsuke</p>
                            <p class="recommendation">‚ö†Ô∏è Not Recommended - Very small rooms, just a bed against the wall with minimal space</p>
                            <p style="margin-top: 8px; color: #155724; font-weight: 500;">‚úì Location is excellent though - Akasaka-Mitsuke area is great for food and transport</p>
                        </div>

                        <div class="activities">
                            <h4>Things to Do</h4>
                            <ul class="activity-list">
                                <li class="must-see">Visit Senso-ji Temple in Asakusa</li>
                                <li class="must-see">Explore Shibuya - Popular restaurant and shopping area, very trendy! Home to the famous Shibuya Crossing, a very busy street crossing</li>
                                <li class="must-see">Akihabara - Pop culture and technology area, amazing for anime, manga, and electronics</li>
                                <li class="must-see">Shinjuku - Entertainment and shopping area with great nightlife and restaurants</li>
                                <li class="must-see">Experience Tsukiji Outer Market for fresh sushi</li>
                                <li class="must-see">Walk through Meiji Shrine and Yoyogi Park</li>
                                <li class="must-see">Check out teamLab Borderless or Planets digital art museum</li>
                            </ul>
                        </div>

                        <div class="food-note">
                            <strong>Area Highlights:</strong> The food around Akasaka-Mitsuke is fantastic! The area isn't too busy and it's extremely well connected with 4 metro lines making it easy to explore Tokyo during the day and find great restaurants near your hotel at night.
                        </div>
                    </div>
                </div>

                <div class="timeline-travel">
                    <strong>Travel:</strong> Train to Mount Mitake from Tokyo
                </div>

                <!-- Mount Mitake -->
                <div class="timeline-item">
                    <div class="timeline-dot">2</div>
                    <div class="stop-card">
                        <div class="stop-header">
                            <div>
                                <h3 class="stop-title">Mount Mitake</h3>
                                <p style="color: #666;">Traditional Mountain Ryokan Experience</p>
                            </div>
                            <div class="stop-dates">Oct 7 (1 night)</div>
                        </div>

                        <div class="hotel-info hotel-recommended">
                            <h4>üè® Accommodation</h4>
                            <p class="hotel-name">Traditional Ryokan on mountain top</p>
                            <p class="recommendation">‚≠ê Highly Recommended - Incredible traditional experience! They served traditional dinner and breakfast, and we had a private onsen</p>
                            <p style="margin-top: 8px; color: #721c24; font-weight: 500;">‚ö†Ô∏è The town is super steep and built into the mountain - 20 minute walk to accommodation. Not ideal with lots of bags!</p>
                        </div>

                        <div class="activities">
                            <h4>Highlights</h4>
                            <ul class="activity-list">
                                <li class="must-see">Stay at a traditional ryokan with private onsen - amazing experience!</li>
                                <li class="must-see">Traditional multi-course dinner and breakfast included</li>
                                <li>Explore beautiful old temples around the mountain town</li>
                                <li>Peaceful mountain atmosphere and stunning views</li>
                            </ul>
                        </div>

                        <div class="food-note">
                            <strong>Important Note:</strong> The walk to the accommodation is quite challenging (20 minutes uphill through steep streets). Consider traveling light or arranging luggage transfer if possible.
                        </div>
                    </div>
                </div>

                <div class="timeline-travel">
                    <strong>Travel:</strong> Train to Nagoya
                </div>

                <!-- Nagoya -->
                <div class="timeline-item">
                    <div class="timeline-dot">3</div>
                    <div class="stop-card">
                        <div class="stop-header">
                            <div>
                                <h3 class="stop-title">Nagoya</h3>
                            </div>
                            <div class="stop-dates">Oct 8 - 9 (2 nights)</div>
                        </div>

                        <div class="hotel-info hotel-recommended">
                            <h4>üè® Accommodation</h4>
                            <p class="hotel-name">Comfort Inn Nagoya Sakae</p>
                            <p class="recommendation">‚úì Recommended - Great hotel with good amenities</p>
                        </div>

                        <div class="activities">
                            <h4>Things to Do</h4>
                            <ul class="activity-list">
                                <li class="must-see">Mt. Oyama Day Trip - Take train + bus from Nagoya. Cable car partway up with restaurants and nice views. Very steep hike to summit (lots of stairs!) with a small restaurant at the top as your reward</li>
                                <li class="must-see">Hike the Magome Pass - Historic trade route through the mountains between two beautiful old villages. Very scenic walk with interesting townships at both ends offering good food and traditional crafts</li>
                            </ul>
                        </div>

                        <div class="food-note">
                            <strong>Food:</strong> Lots of great restaurants around the hotel area.
                        </div>
                    </div>
                </div>

                <div class="timeline-travel">
                    <strong>Travel:</strong> Shinkansen to Hiroshima
                </div>

                <!-- Hiroshima -->
                <div class="timeline-item">
                    <div class="timeline-dot">4</div>
                    <div class="stop-card">
                        <div class="stop-header">
                            <div>
                                <h3 class="stop-title">Hiroshima</h3>
                            </div>
                            <div class="stop-dates">Oct 10 - 12 (2 nights)</div>
                        </div>

                        <div class="hotel-info hotel-recommended">
                            <h4>üè® Accommodation</h4>
                            <p class="hotel-name">NAGI Hiroshima Hotel and Lounge</p>
                            <p class="recommendation">‚≠ê Highly Recommended - One of the best hotels we stayed in! Beautiful property and wonderful experience</p>
                        </div>

                        <div class="activities">
                            <h4>Things to Do</h4>
                            <ul class="activity-list">
                                <li class="must-see">Shukkeien Gardens - Absolutely incredible! A must-see. Beautiful Japanese garden with koi ponds and lakes. Buy fish food at the entrance to feed them - it's very fun watching them swarm!</li>
                                <li class="must-see">Miyajima Island - Full day trip. Amazing temples, old township to explore, hike or take cable car to the top for stunning bay views</li>
                                <li>Peace Memorial Park and Museums - Important historical site</li>
                                <li>Hiroshima Castle - Nice to visit, we really enjoyed it</li>
                                <li>Okonomiyaki Tower - Visit for lunch (especially on departure day). 4 floors of okonomiyaki restaurants! This is THE classic Hiroshima dish. Sit at the bar and watch them cook on the hotplate in front of you</li>
                            </ul>
                        </div>

                        <div class="food-note">
                            <strong>Food Highlights:</strong> Hotel is near lots of great restaurants. Check out the camping-themed restaurant a block away on the second floor - fun atmosphere with camping chairs and utensils! Also a fantastic Japanese BBQ place nearby that uses all Hiroshima produce (newly opened when we visited).
                        </div>
                    </div>
                </div>

                <div class="timeline-travel">
                    <strong>Travel:</strong> Shinkansen to Osaka
                </div>

                <!-- Osaka -->
                <div class="timeline-item">
                    <div class="timeline-dot">5</div>
                    <div class="stop-card">
                        <div class="stop-header">
                            <div>
                                <h3 class="stop-title">Osaka</h3>
                            </div>
                            <div class="stop-dates">Oct 12 - 18 (6 nights)</div>
                        </div>

                        <div class="hotel-info hotel-neutral">
                            <h4>üè® Accommodation</h4>
                            <p class="hotel-name">Ocean Niponichi (near Dontonbori)</p>
                            <p class="recommendation">‚ö†Ô∏è Mixed - Location is excellent but rooms aren't great. Consider other options in the Dontonbori area</p>
                        </div>

                        <div class="activities">
                            <h4>Things to Do</h4>
                            <ul class="activity-list">
                                <li class="must-see">Osaka Aquarium - Incredible! Everyone we spoke to raved about it and it absolutely lived up to the hype</li>
                                <li class="must-see">Explore Dontonbori - Walk around endless tiny streets filled with restaurants and bars. It's crazy how much there is to discover!</li>
                                <li class="must-see">Round1 Arcade - Perfect if you want to embrace your inner child. ~$40 for a 24-hour pass. Unreal experience</li>
                                <li>Day trip to Kyoto - Walk around all the temples (note: very busy with tourists)</li>
                                <li>Osaka Castle - Nice walks around the castle grounds. You can go inside if you want. Less crowded than Kyoto</li>
                            </ul>
                        </div>

                        <div class="food-note">
                            <strong>Why Dontonbori:</strong> This is THE area to stay in Osaka. It's a maze of tiny streets with endless restaurants and bars. You could explore for days and keep finding new places!
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="content">
            <div class="location">
                <h2>Hiroshima</h2>

                <h3>Miyajima Island ‚≠ê</h3>
                <p>
                    I highly recommend Miyajima Island in the Bay of Hiroshima! It's got heaps of temples and an old township to walk around with lots of food for tourists. You can hike or cable car to the top of the island and look out over the entire bay/city - the views are amazing.
                </p>
                <a href="https://www.japan-guide.com/e/e3401.html" class="link-button" target="_blank">View on Japan Guide ‚Üí</a>
            </div>

            <div class="location">
                <h2>Osaka ‚≠ê</h2>
                <p>
                    Osaka is just a cool city for like food/bars and stuff to do.
                </p>

                <h3>Dontonbori Area (I highly recommend you stay here)</h3>
                <div class="highlight">
                    <strong>Stay in Dontonbori</strong> so you can walk around the area - it's basically just a suburb with a million tiny streets and every street is just all tiny restaurants and bars, it's crazy how endless it is and that there's so many.
                </div>

                <h3>Round1 Games Arcade</h3>
                <p>
                    Round1 games arcade in Osaka is unreal if you want to embrace your inner child.
                </p>
            </div>

            <div class="location">
                <h2>Kyoto</h2>
                <p>
                    Kyoto is cool, but it's also super busy - like very busy. We just did a day trip from Osaka, I think you can see similar stuff elsewhere with less people. But Kyoto definitely has way more temples all near each other compared to anywhere else, so I can see why it's so popular.
                </p>
            </div>

            <div class="location">
                <h2>Nagoya & The Magome Pass</h2>
                <p>
                    We also stopped in Nagoya on the Shinkansen for 2 nights to walk the Magome pass. It's an old trade route through the mountains between two really old style villages, it was a very nice walk and the townships and both ends were really interesting and had good food and trinkets.
                </p>
                <a href="https://www.japan-guide.com/e/e6078.html" class="link-button" target="_blank">View on Japan Guide ‚Üí</a>
            </div>

            <div class="location">
                <h2>Tokyo</h2>

                <h3>Where to Stay: Akasaka-Mitsuke Area ‚≠ê</h3>
                <p>
                    I assume you're going to Tokyo, but the question is where to stay? It's a huge place. I did a lot of research and decided on the area between Akasaka-Mitsuke station and Akasaka station is the best spot.
                </p>
                <p>
                    It's extremely well connected as you have access to 4 metro lines and quite central, it's not super busy but still has heaps of good restaurants in walking distance so you can take the trains to explore Tokyo in the day but easily get food nearby your accommodation at night.
                </p>
                <p style="color: #666; font-style: italic;">
                    We loved the area it was awesome.
                </p>

                <h3>Areas to Explore</h3>

                <h4 style="color: #555; margin: 15px 0 8px 0;">Akihabara - Pop Culture & Technology Hub</h4>
                <p>
                    This is THE area for pop culture and technology. If you're into anime, manga, video games, or electronics, Akihabara is a must-visit. The streets are lined with multi-story electronics shops, anime stores, and gaming arcades.
                </p>

                <h4 style="color: #555; margin: 15px 0 8px 0;">Shinjuku - Entertainment & Shopping</h4>
                <p>
                    A major entertainment and shopping district with incredible energy. Great for nightlife, restaurants, and exploring. The area has everything from high-end department stores to quirky izakayas and late-night eateries.
                </p>

                <h4 style="color: #555; margin: 15px 0 8px 0;">Shibuya - Trendy Shopping & Dining ‚≠ê</h4>
                <p>
                    Very trendy area popular for restaurants and shopping. Home to the famous Shibuya Crossing - one of the world's busiest street crossings and an absolute must-see! The surrounding area is packed with great restaurants, cafes, and shops. Perfect for people-watching and soaking in Tokyo's vibrant energy.
                </p>

                <h3>Day Trips from Tokyo</h3>

                <h4 style="color: #555; margin: 15px 0 8px 0;">Mt. Oyama</h4>
                <p>
                    A fantastic day trip accessible by train and bus from Tokyo. You can take a cable car partway up the mountain where there are restaurants and beautiful views. If you're feeling adventurous, hike to the summit - be warned, it's very steep with lots and lots of stairs! There's a small restaurant at the top as your reward for making it all the way.
                </p>
            </div>

            <div class="tips">
                <h2>Important Tips</h2>

                <h3>Hotel Size Warning ‚ö†Ô∏è</h3>
                <p>
                    Something to be aware of - many of the hotels are extremely small (space efficient) particularly in the centre of Tokyo/Osaka. We stayed in a few APA Hotels which was a fairly large chain, but it's basically just a bed in a room up against one wall with no space to sit. Okay for a short time if you're out all day, but not so good if you're staying for a while and want to relax in the room.
                </p>
                <div class="highlight">
                    <strong>So check the size of places when booking.</strong>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize the map centered on Japan
        const map = L.map('map').setView([35.5, 136.5], 6);

        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Custom icon for highly recommended places
        const redIcon = L.divIcon({
            className: 'custom-div-icon',
            html: "<div style='background-color:#e74c3c; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 16px; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);'>‚≠ê</div>",
            iconSize: [30, 30],
            iconAnchor: [15, 15]
        });

        // Custom icon for recommended places
        const blueIcon = L.divIcon({
            className: 'custom-div-icon',
            html: "<div style='background-color:#3498db; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 16px; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);'>üìå</div>",
            iconSize: [30, 30],
            iconAnchor: [15, 15]
        });

        // Custom icon for itinerary stops with numbers
        const createNumberIcon = (number) => {
            return L.divIcon({
                className: 'custom-div-icon',
                html: `<div style='background-color:#9b59b6; width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; font-weight: bold; border: 3px solid white; box-shadow: 0 3px 8px rgba(0,0,0,0.4);'>${number}</div>`,
                iconSize: [35, 35],
                iconAnchor: [17.5, 17.5]
            });
        };

        // Itinerary route coordinates
        const itineraryStops = [
            {
                name: "Tokyo (Akasaka-Mitsuke)",
                coords: [35.6747, 139.7377],
                number: 1,
                description: "Oct 1-6 (6 nights) ‚Ä¢ APA Hotel Akasaka Mitsuke"
            },
            {
                name: "Mount Mitake",
                coords: [35.7833, 139.1333],
                number: 2,
                description: "Oct 7 (1 night) ‚Ä¢ Traditional Ryokan with Private Onsen"
            },
            {
                name: "Nagoya",
                coords: [35.1815, 136.9066],
                number: 3,
                description: "Oct 8-9 (2 nights) ‚Ä¢ Comfort Inn Nagoya Sakae"
            },
            {
                name: "Hiroshima",
                coords: [34.3853, 132.4553],
                number: 4,
                description: "Oct 10-12 (2 nights) ‚Ä¢ NAGI Hiroshima Hotel"
            },
            {
                name: "Osaka (Dontonbori)",
                coords: [34.6688, 135.5010],
                number: 5,
                description: "Oct 12-18 (6 nights) ‚Ä¢ Ocean Niponichi"
            }
        ];

        // Add itinerary route line
        const routeCoords = itineraryStops.map(stop => stop.coords);
        const routeLine = L.polyline(routeCoords, {
            color: '#9b59b6',
            weight: 3,
            opacity: 0.7,
            dashArray: '10, 10'
        }).addTo(map);

        // Add numbered markers for itinerary stops
        itineraryStops.forEach(stop => {
            L.marker(stop.coords, { icon: createNumberIcon(stop.number) })
                .addTo(map)
                .bindPopup(`<strong>${stop.name}</strong><br>${stop.description}`);
        });

        // Add markers for additional recommended places
        const locations = [
            {
                name: "Miyajima Island, Hiroshima",
                coords: [34.2958, 132.3197],
                icon: redIcon,
                description: "Highly recommended! Temples, old township, hiking, amazing bay views."
            },
            {
                name: "Kyoto",
                coords: [35.0116, 135.7681],
                icon: blueIcon,
                description: "Beautiful temples but very busy. Consider a day trip from Osaka."
            },
            {
                name: "Magome Pass (from Nagoya)",
                coords: [35.5326, 137.5989],
                icon: blueIcon,
                description: "Historic trade route through mountains. Beautiful walk between old villages."
            },
            {
                name: "Mt. Oyama (Day trip from Tokyo/Nagoya)",
                coords: [35.4453, 139.2481],
                icon: blueIcon,
                description: "Day trip from Tokyo or Nagoya. Cable car partway up, steep hike to summit with restaurant at top."
            }
        ];

        locations.forEach(location => {
            L.marker(location.coords, { icon: location.icon })
                .addTo(map)
                .bindPopup(`<strong>${location.name}</strong><br>${location.description}`);
        });

        // Fit map to show all markers
        const allCoords = [...itineraryStops.map(s => s.coords), ...locations.map(l => l.coords)];
        const group = L.featureGroup(allCoords.map(coord => L.marker(coord))).addTo(map);
        map.fitBounds(group.getBounds().pad(0.1));
    </script>
</body>
</html>